@import url("https://fonts.googleapis.com/css2?family=Comic+Relief:wght@400;700&display=swap");
@import "tailwindcss";

body {
  font-family: "Comic Relief", sans-serif;
}

@layer components {
  /* --- Main App Layout --- */
  .app-container {
    @apply min-h-screen flex flex-col items-center justify-center p-6 bg-zinc-900 text-zinc-200;
  }

  .app-header {
    @apply mb-10 text-center;
  }

  .header-title {
    @apply text-3xl font-bold mb-2 tracking-tight drop-shadow-sm;
  }
  /* Theme-specific title colors */
  .theme-morning .header-title {
    @apply text-pink-400;
  }
  .theme-night .header-title {
    @apply text-red-500;
  }

  .header-subtitle {
    @apply text-sm text-zinc-500 flex items-center justify-center gap-2;
  }

  .heart-icon {
    @apply text-base;
  }
  .theme-morning .heart-icon {
    @apply text-pink-700;
  }
  .theme-night .heart-icon {
    @apply text-red-800;
  }

  .main-content {
    @apply w-full flex justify-center;
  }

  .app-footer {
    @apply mt-10 text-xs;
  }
  .theme-morning .app-footer {
    @apply text-pink-500/60;
  }
  .theme-night .app-footer {
    @apply text-red-500/60;
  }

  /* --- Message Content (Inside Card) --- */
  .message-container {
    @apply flex flex-col items-center gap-6 px-4;
  }

  .message-icon {
    @apply text-4xl opacity-90 drop-shadow-md;
  }

  .message-text {
    @apply text-lg font-medium leading-relaxed text-zinc-100;
  }

  /* --- Scratch Card Component --- */
  .card-wrapper {
    @apply relative w-full max-w-sm aspect-[3/4] rounded-2xl overflow-hidden mx-auto border-2;
    box-shadow: 0 25px 60px -12px rgba(0, 0, 0, 0.5); /* Tailwind arbitrary value moved to standard CSS */
  }
  .theme-morning .card-wrapper {
    @apply border-pink-800/30;
  }
  .theme-night .card-wrapper {
    @apply border-red-900/30;
  }

  .hidden-layer {
    @apply absolute inset-0 flex items-center justify-center p-8 text-center bg-zinc-900;
  }

  .glow-effect {
    @apply absolute inset-0 opacity-30 bg-gradient-to-br;
  }
  .theme-morning .glow-effect {
    @apply from-pink-600/20 via-transparent to-transparent;
  }
  .theme-night .glow-effect {
    @apply from-red-900/40 via-transparent to-transparent;
  }

  .scratch-canvas {
    @apply absolute inset-0 z-20 touch-none transition-opacity duration-1000;
  }
  .scratch-canvas.revealed {
    @apply opacity-0 pointer-events-none;
  }
  /* ... (all your existing styles) ... */
  /* ... (app-container, header-title, card-wrapper, etc...) ... */

  /* --- NEW: Save Button (on top of card) --- */
  .save-button {
    @apply absolute bottom-4 right-4 z-30; /* Sits INSIDE the card */
    @apply bg-zinc-700 text-white text-xs font-bold;
    @apply py-2 px-3 rounded-lg shadow-lg;
    @apply transition-all duration-300 ease-in-out;
    @apply hover:bg-zinc-600 hover:-translate-y-0.5;
  }
  .save-button:disabled {
    @apply bg-pink-800 text-pink-200; /* Cute "saved" confirmation color */
    @apply opacity-100 cursor-not-allowed;
  }

  /* --- NEW: Footer Memory Button --- */
  .memory-box-button {
    @apply text-zinc-500 text-sm font-medium;
    @apply transition-colors hover:text-pink-400;
  }

  /* --- NEW: Memory Box Page --- */
  .memory-box-container {
    @apply w-full max-w-sm text-zinc-200;
    @apply bg-zinc-900 shadow-xl rounded-2xl;
    @apply border border-zinc-800 p-5;
    /* Animate it popping in */
    animation: fadeIn 0.5s ease-out;
  }

  .memory-box-header {
    @apply flex justify-between items-center pb-3 border-b border-zinc-700;
  }
  .memory-box-title {
    @apply text-lg font-semibold;
  }
  .close-button {
    @apply text-3xl text-zinc-500 font-light;
    @apply transition-colors hover:text-white;
    line-height: 1; /* Aligns the 'x' better */
  }

  .notes-list {
    @apply max-h-[60vh] overflow-y-auto mt-4 pr-2; /* Scrollable list */
  }

  .empty-message {
    @apply text-center text-zinc-500 p-8;
  }

  .note-card {
    @apply bg-zinc-800 p-4 rounded-lg mb-3;
    @apply border border-zinc-700 transition-all;
    @apply hover:border-pink-600/50;
  }
  .note-text {
    @apply text-zinc-100 text-base mb-2;
  }
  .note-date {
    @apply text-xs font-medium;
  }

  /* Simple fade-in animation */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}
