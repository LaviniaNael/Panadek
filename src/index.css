@import url("https://fonts.googleapis.com/css2?family=Comic+Relief:wght@400;700&display=swap");
@import "tailwindcss";

body {
  font-family: "Comic Relief", sans-serif;
  /* Prevent pull-to-refresh on mobile which ruins the app feel */
  overscroll-behavior-y: none;
}

@layer components {

  /* --- Main App Layout --- */
  .app-container {
    @apply min-h-screen flex flex-col items-center justify-center p-6 bg-zinc-900 text-zinc-200;
  }

  .app-header {
    @apply mb-10 text-center;
  }

  .header-title {
    @apply text-3xl font-bold mb-2 tracking-tight drop-shadow-sm;
  }

  /* THEME: Christmas Red (Morning) / Christmas Green (Night) */
  .theme-morning .header-title {
    @apply text-red-500;
  }

  .theme-night .header-title {
    @apply text-green-500;
  }

  .header-subtitle {
    @apply text-sm text-zinc-500 flex items-center justify-center gap-2;
  }

  .heart-icon {
    @apply text-base;
  }

  .theme-morning .heart-icon {
    @apply text-red-600;
  }

  .theme-night .heart-icon {
    @apply text-green-600;
  }

  .main-content {
    @apply w-full flex justify-center;
  }

  .app-footer {
    @apply mt-10 text-sm text-center;
  }

  .theme-morning .app-footer {
    @apply text-red-500/70;
  }

  .theme-night .app-footer {
    @apply text-green-500/60;
  }

  /* --- Message Content (Inside Card) --- */
  .message-container {
    @apply flex flex-col items-center gap-6 px-4;
  }

  .message-icon {
    @apply text-4xl opacity-90 drop-shadow-md;
  }

  .message-text {
    @apply text-lg font-medium leading-relaxed text-zinc-100;
  }

  /* --- Scratch Card Component --- */
  .card-wrapper {
    @apply relative w-full max-w-sm aspect-[3/4] rounded-2xl overflow-hidden mx-auto border-2;
    box-shadow: 0 25px 60px -12px rgba(0, 0, 0, 0.5);
  }

  .theme-morning .card-wrapper {
    @apply border-red-800/30;
  }

  .theme-night .card-wrapper {
    @apply border-green-900/30;
  }

  .hidden-layer {
    @apply absolute inset-0 flex items-center justify-center p-8 text-center bg-zinc-900;
  }

  .glow-effect {
    @apply absolute inset-0 opacity-30 bg-gradient-to-br;
  }

  .theme-morning .glow-effect {
    @apply from-red-600/20 via-transparent to-transparent;

    /* --- Hanging Decoration Animation --- */
    @keyframes swing {
      0% {
        transform: rotate(15deg);
      }

      100% {
        transform: rotate(-15deg);
      }
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-5px);
      }
    }

    .animate-swing {
      animation: swing 3s ease-in-out infinite alternate;
      transform-origin: top center;
    }

    .animate-float {
      animation: float 4s ease-in-out infinite;
    }

    /* Stagger delays for more natural feel */
    .delay-100 {
      animation-delay: 0.1s;
    }

    .delay-200 {
      animation-delay: 0.5s;
    }

    .delay-300 {
      animation-delay: 1.2s;
    }

    .delay-500 {
      animation-delay: 2.5s;
    }
  }

  .theme-night .glow-effect {
    @apply from-green-900/40 via-transparent to-transparent;
  }

  .scratch-canvas {
    @apply absolute inset-0 z-20 touch-none transition-opacity duration-1000;
  }

  .scratch-canvas.revealed {
    @apply opacity-0 pointer-events-none;
  }

  /* --- Buttons & Inputs --- */
  .save-button {
    @apply absolute bottom-4 right-4 z-30;
    /* Sits INSIDE the card */
    @apply bg-zinc-700 text-white text-xs font-bold;
    @apply py-2 px-3 rounded-lg shadow-lg;
    @apply transition-all duration-300 ease-in-out;
    @apply hover:bg-zinc-600 hover:-translate-y-0.5;
  }

  .save-button:disabled {
    @apply bg-zinc-800 text-zinc-400;
    /* Neutral saved state */
    @apply opacity-100 cursor-not-allowed;
  }

  /* --- Footer Memory Button --- */
  .memory-box-button {
    @apply text-zinc-500 text-sm font-medium cursor-pointer;
    @apply transition-colors hover:text-zinc-400;
  }

  /* --- Memory Box / Voucher Container --- */
  .memory-box-container {
    @apply w-full max-w-sm text-zinc-200;
    @apply bg-zinc-900 shadow-xl rounded-2xl;
    @apply border border-zinc-800 p-5;
    /* Animate it popping in */
    animation: fadeIn 0.5s ease-out;
  }

  .memory-box-header {
    @apply flex justify-between items-center pb-3 border-b border-zinc-700;
  }

  .memory-box-title {
    @apply text-lg font-semibold;
  }

  .close-button {
    @apply text-3xl text-zinc-500 font-light;
    @apply transition-colors hover:text-white;
    line-height: 1;
    /* Aligns the 'x' better */
  }

  .notes-list {
    @apply max-h-[60vh] overflow-y-auto mt-4 pr-2;
    /* Scrollable list */
  }

  .empty-message {
    @apply text-center text-zinc-500 p-8;
  }

  .note-card {
    @apply bg-zinc-800 p-4 rounded-lg mb-3;
    @apply border border-zinc-700 transition-all;
    @apply hover:border-red-600/50;
  }

  .note-text {
    @apply text-zinc-100 text-base mb-2;
  }

  .note-date {
    @apply text-xs font-medium;
  }

  /* Simple fade-in animation */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* --- 3D Flip Animation --- */
  .perspective-1000 {
    perspective: 1000px;
  }

  .preserve-3d {
    transform-style: preserve-3d;
  }

  .backface-hidden {
    backface-visibility: hidden;
  }

  .rotate-y-180 {
    transform: rotateY(180deg);
  }
}